<!doctype html> <html lang="en-US"><head> <meta charset="utf-8"> <!-- Chulapa Jekyll Theme - v1.1.0 --> <!-- MIT License--> <!-- Docs: https://dieghernan.github.io/chulapa --> <!-- Repo: https://github.com/dieghernan/chulapa --> <!-- Page build 2024-08-31 09:53:52 +0100 --> <!--Google Structured Data--> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://andrevitali.github.io/g8-2024-website/kramdown" }, "headline": "How it works", "image": "", "datePublished": "2024-08-31T09:53:52+01:00", "dateModified": "2024-08-31T09:53:52+01:00", "author": { "@type": "Person", "name": "" }, "publisher": { "@type": "Organization", "name": "", "url": "https://andrevitali.github.io/g8-2024-website/", "logo": { "@type": "ImageObject", "url": "" } } } </script> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "name": "CraveIt", "item": "https://andrevitali.github.io/g8-2024-website/" },{ "@type": "ListItem", "position": 2, "name": "How it works" }] } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "name": "How it works", "description": "File di prova - UNDER THE HOOD " } } </script><script type="application/ld+json"> { "@context" : "https://schema.org", "@type" : "Person", "description": "Publisher", "name" : "", "url" : "https://andrevitali.github.io/g8-2024-website/" } </script> <title>How it works | CraveIt</title> <link rel="canonical" href="https://andrevitali.github.io/g8-2024-website/kramdown"> <!-- Atom feed --> <link href="https://andrevitali.github.io/g8-2024-website/atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed CraveIt" > <!-- RSS 2.0 feed --> <link href="https://andrevitali.github.io/g8-2024-website/rss.xml" type="application/rss+xml" rel="alternate" title="RSS 2.0 feed CraveIt" > <!-- Meta tags --> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta name="author" content="" > <meta name="copyright" content="" > <meta name="description" content="File di prova - UNDER THE HOOD "> <meta name="thumbnail" content="" > <meta name="robots" content="index, follow"><meta name="keywords" content=""> <!-- OpenGraph --> <meta property="og:title" content="How it works | CraveIt" > <meta property="og:site_name" content="CraveIt | Trova il Ristorante Perfetto per il Tuo Piatto Preferito" > <meta property="og:url" content="https://andrevitali.github.io/g8-2024-website/kramdown" > <meta property="og:type" content="website" > <meta property="og:description" content="File di prova - UNDER THE HOOD " > <meta property="og:locale" content="en-US" > <meta property="og:image" content="" > <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"><!-- start custom head snippets --> <!-- this script is inserted before the css stylesheet --> <!-- end custom head snippets --> <!-- CSS --> <!-- Preconnect with Google Fonts --> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet"> <!-- Fontawesome--> <!-- v6 --> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css"> <link rel="preload" href="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/js/chulapa_script.js" as="script" > <link rel="preload" href="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/fonts/Chulapa/Chulapa-Bold_vmod.otf" as="font" type="font/otf" crossorigin> <!-- Theme css (Bootstrap included) --> <link rel="stylesheet" id="maincss" href="https://andrevitali.github.io/g8-2024-website/assets/css/main.css" > <!-- Highlighter --> <link id="csshigh" rel="stylesheet" href="https://andrevitali.github.io/g8-2024-website/assets/css/highlighter.css" > <!-- Custom css --> <link rel="stylesheet" href="https://andrevitali.github.io/g8-2024-website/assets/css/custom.css" > <!-- start custom head snippets --> <script src="https://cdn.jsdelivr.net/npm/vega@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script> <script src="https://cdn.jsdelivr.net/gh/koaning/justcharts/justcharts.js"></script> <!-- insert favicons. use https://realfavicongenerator.net/ --> <link rel="apple-touch-icon" sizes="76x76" href="./assets/favicon/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/g8-2024-website//assets/favicon/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/g8-2024-website//assets/favicon/favicon-16x16.png"> <link rel="manifest" href="/g8-2024-website//assets/favicon/site.webmanifest"> <link rel="mask-icon" href="/g8-2024-website//assets/favicon/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/g8-2024-website//assets/favicon/favicon.ico"> <meta name="msapplication-TileColor" content="#333333"> <meta name="msapplication-config" content="/g8-2024-website//assets/favicon/browserconfig.xml"> <meta name="theme-color" content="#333333"> <!-- end custom head snippets --> </head> <body class="d-flex flex-column h-entry" id="body"> <a class="u-url d-none" href="https://andrevitali.github.io/g8-2024-website/kramdown">Invisible link to canonical for Microformats</a> <div class="navbar-chulapa-fab d-md-none"> <input type="checkbox" class="navbar-chulapa-fab-button d-none" id="navi-toggle"> <label for="navi-toggle" class="navbar-toggler p-1 m-0 text-center d-flex"> <span class="navbar-toggler-icon m-auto">&nbsp;</span> </label> <div class="navbar-chulapa-fab-background">&nbsp;</div> <nav class="navbar-chulapa-fab-nav" aria-label="alternative-navigation"> <ul class="navbar-nav text-center text-uppercase font-weight-light mt-0 mb-1 py-1"> <li class="nav-item"> <a class="nav-link px-3 navbar-brand mx-1 " href="https://andrevitali.github.io/g8-2024-website/"><img src="https://andrevitali.github.io/g8-2024-website/assets/images/Logo_masthead.png" width="30" height="30" class="d-inline-block align-top rounded-lg text-center mr-1" alt="NavbarLogo">CraveIt</a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1" href="https://andrevitali.github.io/g8-2024-website/theapp">The App</a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1" href="https://andrevitali.github.io/g8-2024-website/what-prompted-us">Data Matters</a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1 active font-weight-bold" href="https://andrevitali.github.io/g8-2024-website/kramdown">Under the hood<span class="sr-only">(current)</span></a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1" href="https://andrevitali.github.io/g8-2024-website/works">It could work!</a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1" href="https://andrevitali.github.io/g8-2024-website/our-vision">Future Plans</a> </li><li class="nav-item my-0 py-1"> <a class="nav-link px-3 py-1" href="https://andrevitali.github.io/g8-2024-website/search">Search</a> </li></ul> </nav> </div> <nav class="navbar navbar-expand sticky-top navbar-chulapa d-none d-md-block " aria-label="primary-navigation"> <div class="container-fluid mx-md-2"> <a class="navbar-brand text-uppercase font-weight-light" href="https://andrevitali.github.io/g8-2024-website/"><img src="https://andrevitali.github.io/g8-2024-website/assets/images/Logo_masthead.png" width="30" height="30" class="d-inline-block align-top rounded-lg mr-1" alt="NavbarLogo">CraveIt</a><ul class="navbar-nav ml-auto"><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light " href="https://andrevitali.github.io/g8-2024-website/theapp">The App</a> </li><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light " href="https://andrevitali.github.io/g8-2024-website/what-prompted-us">Data Matters</a> </li><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light active font-weight-bold" href="https://andrevitali.github.io/g8-2024-website/kramdown">Under the hood<span class="sr-only">(current)</span></a> </li><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light " href="https://andrevitali.github.io/g8-2024-website/works">It could work!</a> </li><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light " href="https://andrevitali.github.io/g8-2024-website/our-vision">Future Plans</a> </li><li class="nav-item mx-2"> <a class="nav-link text-uppercase font-weight-light " href="https://andrevitali.github.io/g8-2024-website/search">Search</a> </li></ul></div> </nav> <!-- No header --> <main class="container-lg pb-3 flex-fill"> <div class="row pt-2"> <aside class="col-lg-2 mt-lg-3 small"></aside> <article id="maincontent" class="col-lg-8 mt-3 e-content"> <button class="btn btn-primary btn-sm rounded-right position-fixed chulapa-btn-sidebar bs-canvas-anim chulapa-btn-nofocus chulapa-fa-static" id='demo' onclick="openSideBar()" aria-label="Open Sidebar" aria-expanded="false" aria-controls="sideBar"> <i class="fa-solid fa-plus"></i><span class="sr-only">Open Sidebar</span> </button> <div class="bs-canvas bs-canvas-anim bs-canvas-left position-fixed navbar-chulapa h-100" id='sideBar'> <p class="pt-2 pb-1 px-3"> <button type="button" class="navbar-text close chulapa-btn-nofocus chulapa-fa-static" aria-label="Close" onclick="closeSideBar()"> <i class="fa-solid fa-times"></i><span class="sr-only">Close Sidebar</span> </button> </p> <nav class="navbar-nav px-3 my-auto"> <p class="mb-2" ><a class="nav-link font-weight-bold lead" href="#">How it works</a></p> <ul class="nav flex-column" id="sidetoc"><li class="nav-item nav d-block"><a href="#data-gathering--cleaning" class="nav-link">DATA GATHERING &amp; CLEANING</a></li><li class="nav-item nav d-block"><a href="#indexing--retrieval" class="nav-link">INDEXING &amp; RETRIEVAL</a></li><li class="nav-item nav d-block"><a href="#sentiment-analysis" class="nav-link">SENTIMENT ANALYSIS</a></li><li class="nav-item nav d-block"><a href="#ranking" class="nav-link">RANKING</a></li></ul> </nav> </div> <h1 id="under-the-hood"><strong>UNDER THE HOOD</strong></h1> <p><br /></p> <p>Currently, CraveIT is a <strong>proof-of-concept</strong>: it focuses on the city of Rome, and features a selection of 15 traditional dishes. However, it has the potential -and we hope soon the opportunity- to expand to any town and to include any dish.</p> <p><br /></p> <h3 id="data-gathering--cleaning">DATA GATHERING &amp; CLEANING</h3> <hr /> <p>CraveIT’s PoC is built on the analysis of over <strong>1.000.000</strong> reviews, gathered from the most influential information hubs of the food industry. This pool of reviews covers approximately <strong>2.500</strong> of the best (top 20%) and more visited (top 10%) restaurants in Rome. For each of these restaurants, we collected all the reviews written in the past <strong>5 years</strong>, along with a rich set of <strong>contextual information</strong> about both the reviews (title, score, date, <i>etc.</i>) and the restaurants (price range, location, contact info, opening hours, features, <i>etc.</i>).</p> <p>The pool of raw data then underwent a fine-grained <strong>pre-processing pipeline</strong>. Each review and its contextual attributes has been checked for formal and semantic consistency. Furthermore, duplicates, missing and null values have been handled through solutions tailored to the importance of each variable. Data from different sources have then been merged: each review, regardless of its origin, has been augmented with aggregated information from all the other sources as well, resulting in a <strong>rich, and so far unavailable, dataset</strong>. Finally, the results have been <strong>filtered</strong> to include only reviews of Italian restaurants, and written in Italian.</p> <p><br /></p> <h3 id="indexing--retrieval">INDEXING &amp; RETRIEVAL</h3> <hr /> <p>To <strong>identify pieces of text mentioning at least one of our 15 target dishes</strong> efficiently and in a scalable manner, we indexed the bodies and titles of the reviews in batches using a search engine. We then built queries to capture not only matches, but also misspellings and morphological variants of the target terms. For multi-word dishes (<i>e.g.</i> “cacio e pepe”), we devised custom solutions to ensure accurate retrieval.</p> <p><br /></p> <h3 id="sentiment-analysis">SENTIMENT ANALYSIS</h3> <hr /> <p>After identifying the specific set of reviews mentioning each of our target dishes, we proceeded to the phase of <strong>sentiment analysis</strong>, which presented a significant challenge. The uniqueness of CraveIT lies in its ability to provide <strong>dish-specific</strong> recommendations. However, we had to address the fact that users often discuss multiple dishes within the same review, along with general feedback on the restaurant’s overall features. For our sentiment analysis we thus employed <strong>different state-of-the-art pre-trained transformer models</strong>, tailoring the input data format. Depending on the context, the models were fed either the entire review or relevant portions of it, focusing on the chunks most likely to reflect opinions about each specific dish. The models then produced sentiment scores ranging from 1 (very negative) to 5 (very positive) for each dish mentioned in the review.</p> <p>The <strong>results were outstanding</strong> and far exceeded expectations. Remarkably, the models demonstrated the ability to automatically recognize when a review did not express a specific sentiment about a dish, even without explicit prompting. For example, the models could recognize instances where users mentioned a dish was on the menu but did not actually try it. More importantly, the models captured <strong>subtle nuances of meaning and distant dependencies</strong> within the text. This becomes particularly clear if we merge together the results that the models got, in different iterations, on reviews that were mentioning multiple dishes:</p> <p><br /></p> <center> <img width="800px" style="margin: 0px 0px 0px 0px;" src="assets/images/Under_The_Hood_02.png" /> </center> <p><br /> <br /></p> <p>The models successfully <strong>pinpointed the sentiment associated with the target dish</strong>, effectively filtering out irrelevant comments about other dishes, service, or the restaurant in general. This capability is particularly crucial since the <strong>overall stars</strong> assigned by the users, on which traditional apps rely for their rankings, <strong>lack the necessary granularity</strong> to pick up on the full range of the opinions expressed in the text. We argue that this limitation causes current platforms to overlook and lose a lot of prime information along the way. In contrast, the dish-specific sentiment analysis will give CraveIT a much more precise and detailed base for its ranking algorithm.</p> <p><br /></p> <h3 id="ranking">RANKING</h3> <hr /> <p>CraveIT’s ranking algorithm uses <strong>3 main parameters</strong>, all of which are <strong>dish-specific</strong>:</p> <ul> <li><strong>mean sentiment</strong>: for each restaurant and each dish, this parameter is calculated as the average sentiment score derived from all relevant reviews, as determined by the models. The results from different models are weighted according to their accuracy and the extent of the context they analyzed.</li> <li><strong>popularity</strong>: this parameter is defined as the ratio of reviews mentioning a specific dish at a particular restaurant to the total number of reviews referring to that dish across all restaurants.</li> <li><strong>freshness</strong>: the ratio of the reviews mentioning a dish in that restaurant that were written in the past two years to the total of reviews mentioning that dish in that restaurant.</li> </ul> <p>The combination of popularity and freshness ensures that CraveIT’s <strong>ranking is highly reliable</strong>. The sentiment score associated with a dish at a particular restaurant is weighted by the number of reviews it is based on, as well as how recent those reviews are. This approach prevents us from recommending a restaurant based on just a few reviews or outdated feedback that may no longer reflect the current quality of the food. Finally, we incorporated <strong>experts’ opinions</strong> by adding a flat score for every guide (<i>Michelin</i>, <i>Gambero Rosso</i>, <i>Identià Golose</i>) in which the restaurant is featured.</p> <p>We aggregated all of these parameters with a normalized weighted sum that returned, for each restaurant-dish pair, a number between 0 and 10: our <strong>CraveIT score</strong>.</p> <p><br /></p> </article> </div> </main><!-- Footer --> <footer class="footer-chulapa text-left mt-0 pt-5 pb-5"> <div class="container"> <div class="row"> <div class="col-md-4"><p> <strong>Repositories</strong> </p> <p> All the data, analysis, and website code are available on our Github repositories. </p> <div role="navigation" class="d-flex flex-wrap justify-content-left"><a href=https://github.com/sobigdata-master/progettone-template> <i class="fa-pull-left fab fa-github" style="vertical-align: middle; font-size: 1rem; line-height: 1.5rem"></i> Group 8 - Project repository</a><a href=https://github.com/sobigdata-master/progettone-template> <i class="fa-pull-left fab fa-github" style="vertical-align: middle; font-size: 1rem; line-height: 1.5rem"></i> Group 8 - Website repository</a></div> </div> <div class="col-md-4"> <p style="padding-left: 1.2rem"> <strong> Project by</strong> </p><ol> <li> <a href="https://github.com/"> Luca Antonini </a> </li> <li> <a href="https://github.com/"> Francesco Peria </a> </li> <li> <a href="https://github.com/"> Ludovica Santinelli </a> </li> <li> <a href="https://github.com/"> Maria Paola Sforza Fogliani </a> </li> <li> <a href="https://github.com/"> Andrea Vitali </a> </li> </ol></div> <div class="col-md-4"> <div class="mb-2"> <img style="margin-left: 0; margin-right:0;" src="/g8-2024-website//assets/images/Logo_SoBigData MASTER.png" alt="SoBigData RI Logo"> </div><hr> <div role="navigation" class="d-flex flex-wrap justify-content-left"><a href="https://www.linkedin.com/company/sobigdata" title="footerLinkedIn" class="chulapa-footer-sociallink lead" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i> </span><span class="sr-only">LinkedIn</span> </a><a href="https://www.twitter.com/sobigdata" title="footerTwitter" class="chulapa-footer-sociallink lead" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i> </span><span class="sr-only">Twitter</span> </a><a href="https://www.facebook.com/sobigdata" title="footerFacebook" class="chulapa-footer-sociallink lead" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fab fa-facebook fa-stack-1x fa-inverse"></i> </span><span class="sr-only">Facebook</span> </a></div><hr> <p class="mt-2 mb-3">2024 SoBigData Master Projects</p> <p> <!-- Do not remove this in order to give attributions --> Website powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> <!-- End attributions --> </p> </div> </div> </div> </footer> <!-- Footer --> <!-- JS, Popper.js, and jQuery --> <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script> <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/gh/dieghernan/chulapa@master/assets/js/chulapa_script.js"></script> <!-- start custom scripts to be placed at the bottom of the page --> <!-- end custom bottom scripts --> </body> </html>
